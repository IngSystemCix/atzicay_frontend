<form (ngSubmit)="onSubmit()">
    <div>
        <!-- Botones responsivos corregidos -->
        <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mx-2 sm:mx-4 md:mx-8 mt-4 sm:mt-6 mb-4 sm:mb-6 gap-4">
            <button 
                type="button" 
                (click)="cancelar()"
                class="bg-white text-atzicay-heading px-4 py-2 sm:px-6 sm:py-3 md:px-8 md:py-4 rounded-md border border-atzicay-text-color text-base sm:text-lg w-full sm:w-40 md:w-48 font-bold cursor-pointer hover:bg-gray-100 hover:border-atzicay-purple-500 transition"
                [disabled]="isLoading"
            >
                Cancelar
            </button>
            <button 
                type="submit" 
                class="bg-atzicay-purple-500 text-white px-4 py-2 sm:px-6 sm:py-3 md:px-8 md:py-4 rounded-md text-base sm:text-lg w-full sm:w-40 md:w-48 font-bold disabled:opacity-50 cursor-pointer hover:bg-atzicay-purple-600 transition"
                [disabled]="isLoading"
            >
                @if (isLoading) {
                    <span class="inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></span>
                }
                Guardar
            </button>
        </div>

        <div class="bg-white border border-black mx-2 sm:mx-4 md:mx-8 my-4 sm:my-8 rounded-2xl p-3 sm:p-6 grid-cols-1">
            <div class="mb-6 sm:mb-10">
                <h1 class="color-atzicay-heading font-bold text-xl sm:text-2xl mb-3 sm:mb-6">Programación del Juego</h1>
                <h6 class="color-atzicay-subheading text-sm sm:text-base">Personaliza las reglas y operaciones del juego</h6>
            </div>

            @if (error) {
                <div class="bg-red-50 border border-red-200 rounded-lg p-2 sm:p-4 mb-4 sm:mb-6">
                    <p class="text-red-600 text-xs sm:text-sm">{{ error }}</p>
                </div>
            }

            <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
                <div class="pt-2 sm:pt-3">
                    <div class="mb-6 sm:mb-10">
                        <label for="nombre" class="font-bold text-sm sm:text-base">Nombre</label>
                        <input 
                            type="text" 
                            id="nombre" 
                            name="nombre"
                            [(ngModel)]="programmingGame.Name"
                            class="w-full border border-gray-300 rounded-md p-2 text-sm sm:text-base"
                            required
                        />
                    </div>
                    <div>
                        <label for="intentos" class="font-bold text-sm sm:text-base">Intentos</label>  
                        <input 
                            class="w-full border border-gray-300 rounded-md p-2 text-right text-sm sm:text-base"
                            type="number"
                            name="intentos" 
                            id="intentos"
                            [(ngModel)]="programmingGame.Attempts"
                            min="1"
                            max="10"
                            required
                        />
                    </div>
                </div>
                <div class="flex flex-col gap-4">
                    <div class="flex flex-col gap-4 sm:flex-row sm:gap-4 m-1 sm:m-3">
                        <div class="w-full sm:w-1/2">
                            <label for="inicio" class="font-bold text-sm sm:text-base">Inicio</label>
                            <input 
                                type="datetime-local" 
                                name="inicio" 
                                id="inicio" 
                                [(ngModel)]="programmingGame.StartTime"
                                class="w-full border border-gray-300 rounded-md p-2 text-sm sm:text-base"
                                required
                            >
                        </div>
                        <div class="w-full sm:w-1/2">
                            <label for="fin" class="font-bold text-sm sm:text-base">Fin</label>
                            <input 
                                type="datetime-local" 
                                name="fin" 
                                id="fin" 
                                [(ngModel)]="programmingGame.EndTime"
                                class="w-full border border-gray-300 rounded-md p-2 text-sm sm:text-base"
                                required
                            >
                        </div>
                    </div>
                    <div class="m-1 sm:m-4">
                        <label for="tiempo" class="font-bold text-sm sm:text-base">Tiempo máximo (minutos)</label>
                        <input 
                            type="number" 
                            name="tiempo" 
                            id="tiempo" 
                            [(ngModel)]="programmingGame.MaximumTime"
                            min="1"
                            class="w-full border border-gray-300 rounded-md p-2 text-right text-sm sm:text-base"
                            required
                        >
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>