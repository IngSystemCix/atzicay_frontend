<form (ngSubmit)="onSubmit()">
    <div>
        <div class="bg-white border border-black m-8 rounded-2xl p-6 grid-cols-1">
            <div class="row mb-10">
                <h1 class="color-atzicay-heading font-bold text-2xl mb-6">Programación del Juego</h1>
                <h6 class="color-atzicay-subheading">Personaliza las reglas y operaciones del juego</h6>
            </div>

            @if (error) {
                <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                    <p class="text-red-600 text-sm">{{ error }}</p>
                </div>
            }

            <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
                <div class="pt-3">
                    <div class="mb-10">
                        <label for="nombre" class="font-bold">Nombre</label>
                        <input 
                            type="text" 
                            id="nombre" 
                            [(ngModel)]="config.nombre"
                            name="nombre"
                            class="w-full border border-gray-300 rounded-md p-2"
                            required
                        />
                    </div>
                    <div class="">
                        <label for="intentos" class="font-bold">Intentos</label>  
                        <input 
                            class="w-full border border-gray-300 rounded-md p-2 text-right"
                            type="number"
                            name="intentos" 
                            id="intentos"
                            [(ngModel)]="config.intentos"
                            min="1"
                            max="10"
                        />
                    </div>
                </div>
                <div class="flex flex-col gap-4">
                    <div class="flex flex-row gap-4 m-3">
                        <div class="w-1/2">
                            <label for="inicio" class="font-bold">Inicio</label>
                            <input 
                                type="datetime-local" 
                                name="inicio" 
                                id="inicio" 
                                [(ngModel)]="config.fechaInicio"
                                class="w-full border border-gray-300 rounded-md p-2 flex align-end justify-end"
                                required
                            >
                        </div>
                        <div class="w-1/2">
                            <label for="fin" class="font-bold">Fin</label>
                            <input 
                                type="datetime-local" 
                                name="fin" 
                                id="fin" 
                                [(ngModel)]="config.fechaFin"
                                class="w-full border border-gray-300 rounded-md p-2 flex align-end justify-end"
                                required
                            >
                        </div>
                    </div>
                    <div class="m-4">
                        <label for="tiempo" class="font-bold">Tiempo máximo (minutos)</label>
                        <input 
                            type="number" 
                            name="tiempo" 
                            id="tiempo" 
                            [(ngModel)]="config.tiempoMaximo"
                            min="1"
                            class="w-full border border-gray-300 rounded-md p-2 text-right"
                            required
                        >
                    </div>
                </div>
            </div>
        </div>
        <div class="flex justify-between mx-8">
            <button 
                type="button" 
                (click)="cancelar()"
                class="bg-white text-atzicay-heading px-8 py-4 rounded-md border border-atzicay-text-color text-lg w-48 font-bold"
                [disabled]="isLoading"
            >
                Cancelar
            </button>
            <button 
                type="submit" 
                class="bg-atzicay-purple-500 text-white px-8 py-4 rounded-md text-lg w-48 font-bold disabled:opacity-50"
                [disabled]="isLoading"
            >
                @if (isLoading) {
                    <span class="inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></span>
                }
                Guardar
            </button>
        </div>
    </div>
</form>

